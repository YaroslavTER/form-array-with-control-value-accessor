<form [formGroup]="form">
  <div formArrayName="users">
    <div *ngFor="let user of users.controls; let i = index">
      <app-custom-input [formControlName]="i"></app-custom-input>
    </div>
    <button (click)="addUser()">Add User</button>
  </div>
</form>

<div *ngFor="let user of users.controls">
  {{ user.value | json }}
</div>